<!DOCTYPE html>
<html lang="de">
<head>
  <meta charset="UTF-8" /> <!-- Definiert die Zeichencodierung als UTF-8 -->
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/> <!-- Stellt sicher, dass die Seite fÃ¼r MobilgerÃ¤te optimiert ist -->
  <title>ğŸ® Videogame Finder ğŸ®</title> <!-- Setzt den Titel der Seite -->
  <link rel="stylesheet" href="styles.css"/> <!-- Verlinkt die externe CSS-Datei fÃ¼r das Styling der Seite -->
</head>
<body>

  <div class="container-wrapper"> <!-- Container fÃ¼r den gesamten Inhalt -->
    <!-- Hauptbereich -->
    <div class="container"> <!-- Container fÃ¼r den Hauptinhalt -->
      <h1>ğŸ® Videogame Finder ğŸ®</h1> <!-- Ãœberschrift der Seite -->
      <p>Finde das perfekte Spiel fÃ¼r dich</p> <!-- Beschreibungstext -->
      
      <form class="search-form" action="#" method="GET"> <!-- Formular fÃ¼r die Spiele-Suche -->
        <!-- Genre Auswahl -->
        <select id="genre" name="genre" required> <!-- Dropdown fÃ¼r die Genre-Auswahl -->
          <option value="">Genre wÃ¤hlen</option> <!-- Standardoption -->
          <option value="action">Action</option> <!-- Option fÃ¼r Action-Genre -->
          <option value="adventure">Adventure</option> <!-- Option fÃ¼r Adventure-Genre -->
          <option value="shooter">Shooter</option> <!-- Option fÃ¼r Shooter-Genre -->
          <option value="simulation">Simulation</option> <!-- Option fÃ¼r Simulation-Genre -->
          <option value="strategy">Strategie</option> <!-- Option fÃ¼r Strategie-Genre -->
          <option value="sports">Sport</option> <!-- Option fÃ¼r Sport-Genre -->
        </select>

        <!-- Spielmodus Auswahl -->
        <select id="mode" name="mode" required> <!-- Dropdown fÃ¼r die Spielmodus-Auswahl -->
          <option value="">Spielmodus wÃ¤hlen</option> <!-- Standardoption -->
          <option value="singleplayer">Einzelspieler</option> <!-- Option fÃ¼r Einzelspieler-Modus -->
          <option value="multiplayer">Mehrspieler</option> <!-- Option fÃ¼r Mehrspieler-Modus -->
        </select>

        <!-- Plattform Auswahl -->
        <select id="platform" name="platform" required> <!-- Dropdown fÃ¼r die Plattform-Auswahl -->
          <option value="">Plattform wÃ¤hlen</option> <!-- Standardoption -->
          <option value="pc">PC</option> <!-- Option fÃ¼r PC -->
          <option value="ps5">PlayStation 5</option> <!-- Option fÃ¼r PlayStation 5 -->
          <option value="xbox">Xbox</option> <!-- Option fÃ¼r Xbox -->
        </select>

        <button type="submit">ğŸ® Spiel finden</button> <!-- Button zum Absenden des Formulars -->
      </form>

      <!-- Empfehlung -->
      <div id="recommendation" style="margin-top: 20px;"></div> <!-- Bereich fÃ¼r die Spiel-Empfehlung -->
    </div>

    <!-- Merkliste -->
    <div id="wishlist"> <!-- Container fÃ¼r die Merkliste -->
      <h2>ğŸ“ Deine Merkliste</h2> <!-- Titel der Merkliste -->
      <ul id="wishlistItems"></ul> <!-- Liste der hinzugefÃ¼gten Spiele -->
    </div>
  </div>

  <!-- Footer -->
  <footer>
    <a href="index.html">Home</a> <!-- Link zur Startseite -->
    <a href="ueber-uns.html">Ãœber uns</a> <!-- Link zur "Ãœber uns"-Seite -->
    <a href="kontakt.html">Kontakt</a> <!-- Link zur Kontaktseite -->
    <a href="impressum.html">Impressum</a> <!-- Link zur Impressum-Seite -->
  </footer>

  <!-- JavaScript -->
  <script>
    document.addEventListener("DOMContentLoaded", function () { // Event-Listener, der beim Laden der Seite ausgelÃ¶st wird
      const form = document.querySelector(".search-form"); // Holt das Formular-Element
      const recommendationDiv = document.getElementById("recommendation"); // Holt das Div fÃ¼r die Empfehlung
      const wishlistItems = document.getElementById("wishlistItems"); // Holt das Element fÃ¼r die Merkliste

      // Definiert die Spiel-Datenbank mit verschiedenen Genres, Modi und Plattformen
      const gameDatabase = {
        action: {
          singleplayer: { pc: "God of War", ps5: "Spider-Man: Miles Morales", xbox: "Halo Infinite" },
          multiplayer: { pc: "Apex Legends", ps5: "CoD: Modern Warfare II", xbox: "Fortnite" }
        },
        adventure: {
          singleplayer: { pc: "The Witcher 3", ps5: "Horizon Forbidden West", xbox: "AC Valhalla" },
          multiplayer: { pc: "Sea of Thieves", ps5: "It Takes Two", xbox: "Minecraft" }
        },
        shooter: {
          singleplayer: { pc: "DOOM Eternal", ps5: "Ratchet & Clank", xbox: "Gears 5" },
          multiplayer: { pc: "CS:GO", ps5: "Battlefield V", xbox: "Warzone" }
        },
        simulation: {
          singleplayer: { pc: "The Sims 4", ps5: "Planet Coaster", xbox: "Flight Simulator" },
          multiplayer: { pc: "SimCity", ps5: "No Man's Sky", xbox: "ARK: Survival Evolved" }
        },
        strategy: {
          singleplayer: { pc: "Civilization VI", ps5: "XCOM 2", xbox: "Halo Wars" },
          multiplayer: { pc: "StarCraft II", ps5: "Total War", xbox: "C&C Remastered" }
        },
        sports: {
          singleplayer: { pc: "FIFA 22", ps5: "NBA 2K21", xbox: "Madden NFL 21" },
          multiplayer: { pc: "Rocket League", ps5: "WWE 2K", xbox: "PGA Tour 2K21" }
        }
      };

      // Lade die Merkliste aus dem localStorage, falls vorhanden
      let wishlist = JSON.parse(localStorage.getItem("wishlist")) || []; // Wenn keine Merkliste vorhanden ist, wird ein leeres Array verwendet

      function updateWishlist() { // Funktion zur Aktualisierung der Merkliste
        wishlistItems.innerHTML = ""; // LÃ¶scht die bestehende Liste der Merkliste
        wishlist.forEach((game, index) => { // Geht jedes Spiel in der Merkliste durch
          const li = document.createElement("li"); // Erstellt ein neues Listenelement
          li.textContent = game; // Setzt den Text des Listenelements auf den Namen des Spiels
          const removeBtn = document.createElement("button"); // Erstellt einen Button zum Entfernen des Spiels
          removeBtn.textContent = "âŒ"; // Setzt den Text des Buttons auf "âŒ"
          removeBtn.style.marginLeft = "10px"; // FÃ¼gt einen linken Rand hinzu, um den Button vom Text zu trennen
          removeBtn.onclick = () => { // Wenn der Button geklickt wird
            wishlist.splice(index, 1); // Entfernt das Spiel aus der Merkliste
            updateWishlist(); // Aktualisiert die Anzeige der Merkliste
          };
          li.appendChild(removeBtn); // FÃ¼gt den Button dem Listenelement hinzu
          wishlistItems.appendChild(li); // FÃ¼gt das Listenelement der Merkliste hinzu
        });

        // Speichere die aktualisierte Merkliste im localStorage
        localStorage.setItem("wishlist", JSON.stringify(wishlist)); // Speichert die Merkliste als JSON im localStorage
      }

      form.addEventListener("submit", function (event) { // Event-Listener fÃ¼r das Absenden des Formulars
        event.preventDefault(); // Verhindert das standardmÃ¤ÃŸige Absenden des Formulars

        const genre = document.getElementById("genre").value; // Holt den ausgewÃ¤hlten Genre-Wert
        const mode = document.getElementById("mode").value; // Holt den ausgewÃ¤hlten Spielmodus
        const platform = document.getElementById("platform").value; // Holt die ausgewÃ¤hlte Plattform

        if (genre && mode && platform) { // Wenn alle Felder ausgefÃ¼llt sind
          const game = gameDatabase?.[genre]?.[mode]?.[platform]; // Holt das Spiel aus der Datenbank basierend auf den Auswahlwerten

          if (game) { // Wenn ein Spiel gefunden wurde
            recommendationDiv.innerHTML = `
              <p>ğŸ® <strong>Empfehlung:</strong> ${game}</p>
              <button id="addToWishlistBtn">ğŸ’¾ Zur Merkliste hinzufÃ¼gen</button>
            `; // Zeigt die Spiel-Empfehlung und einen Button zum HinzufÃ¼gen zur Merkliste an

            document.getElementById("addToWishlistBtn").addEventListener("click", function () { // Event-Listener fÃ¼r den Button "Zur Merkliste hinzufÃ¼gen"
              if (!wishlist.includes(game)) { // Wenn das Spiel noch nicht in der Merkliste ist
                wishlist.push(game); // FÃ¼ge das Spiel zur Merkliste hinzu
                updateWishlist(); // Aktualisiere die Anzeige der Merkliste
              } else {
                alert("Dieses Spiel ist bereits in deiner Merkliste!"); // Zeige eine Warnung, wenn das Spiel bereits in der Merkliste ist
              }
            });

          } else {
            recommendationDiv.innerHTML = "<p>âŒ Leider keine Empfehlung fÃ¼r diese Auswahl.</p>"; // Wenn kein Spiel gefunden wurde, zeige eine Fehlermeldung an
          }
        } else {
          alert("Bitte wÃ¤hle Genre, Spielmodus und Plattform aus."); // Wenn nicht alle Felder ausgefÃ¼llt sind, zeige eine Warnung an
        }
      });

      // Aktualisiere die Merkliste beim Laden der Seite
      updateWishlist(); // LÃ¤dt die Merkliste beim Laden der Seite und zeigt sie an
    });
  </script>
</body>
</html>
